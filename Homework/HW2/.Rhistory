iter = iter + 1
fin_table <- extract_tables(file = link,
pages = 4,
area = list(coords[[iter]]))
fin_table <- fin_table[[1]]
fin_table
table2 <- extract_tables(file = link, pages = 4)[[1]]
table2
link
getTable <- function(link){
# co <- c(230, 45, 670, 560)
# co1 <- c(250, 50, 690, 596)
# co2 <- c(245, 45, 680, 600)
# co3 <- c(225, 45.43852, 663.54126, 553.78190)
# co4 <- c(220.99850, 40.9525, 647.4701, 547.91723)
# co5 <- c(210, 4.276566, 667.427484, 602.995848)
#
# coords <- list(co, co1, co2, co3, co4, co5)
#
# fin_table <- extract_tables(file = link,
#                              pages = 4,
#                              area = list(coords[[1]]))
#
# fin_table <- fin_table[[1]]
fin_table <- extract_tables(file = link, pages = 4)[[1]]
# iter = 1
# while(ncol(fin_table) < 6 & iter < 7){
#   iter = iter + 1
#   fin_table <- extract_tables(file = link,
#                           pages = 4,
#                          area = list(coords[[iter]]))
#   fin_table <- fin_table[[1]]
# }
#
return(fin_table)
}
x <- getTable(links[1])
y <- getTable(links[2])
combined <- rbind.fill(as.data.frame(x), as.data.frame(y))
View(combined)
y
combined <- rbind.fill(as.data.frame(x), as.data.frame(y))
View(combined)
x <- getTable(links[1])
x
getTable(links[1])
link = links[1]
fin_table <- extract_tables(file = link, pages = 4)[[1]]
fin_table
fin_table <- extract_tables(file = link, pages = 4)[[2]]
fin_table <- extract_tables(file = link, pages = 4)
fin_table
fin_disclosures <- matrix(ncol = 20)
fin_disclosures <- matrix(ncol = 20)
for(i in 1:10){
x <- getTable(links[i])
fin_disclosures <- rbind(fin_disclosures, x)
}
fin_disclosures <- as.data.frame(ncol = 20)
fin_disclosures <- as.data.frame(NA, ncol = 20)
fin_disclosures
fin_disclosures <- as.data.frame(NA)
for(i in 1:10){
x <- getTable(links[i])
fin_disclosures <- rbind.fill(as.data.frame(x), as.data.frame(y))
#fin_disclosures <- rbind(fin_disclosures, x)
}
fin_disclosures <- as.data.frame(NA)
for(i in 1:10){
try(
x <- getTable(links[i])
)
fin_disclosures <- rbind.fill(as.data.frame(x), as.data.frame(y))
#fin_disclosures <- rbind(fin_disclosures, x)
}
View(fin_disclosures)
fin_disclosures <- as.data.frame(NA)
for(i in 1:10){
try(
x <- getTable(links[i])
)
fin_disclosures <- rbind.fill(as.data.frame(x), fin_disclosures)
#fin_disclosures <- rbind(fin_disclosures, x)
}
View(fin_disclosures)
getTable <- function(link){
# co <- c(230, 45, 670, 560)
# co1 <- c(250, 50, 690, 596)
# co2 <- c(245, 45, 680, 600)
# co3 <- c(225, 45.43852, 663.54126, 553.78190)
# co4 <- c(220.99850, 40.9525, 647.4701, 547.91723)
# co5 <- c(210, 4.276566, 667.427484, 602.995848)
#
# coords <- list(co, co1, co2, co3, co4, co5)
#
# fin_table <- extract_tables(file = link,
#                              pages = 4,
#                              area = list(coords[[1]]))
#
# fin_table <- fin_table[[1]]
fin_table <- extract_tables(file = link, pages = 4)[[1]]
print(length(fin_table))
# iter = 1
# while(ncol(fin_table) < 6 & iter < 7){
#   iter = iter + 1
#   fin_table <- extract_tables(file = link,
#                           pages = 4,
#                          area = list(coords[[iter]]))
#   fin_table <- fin_table[[1]]
# }
#
return(fin_table)
}
fin_disclosures <- as.data.frame(NA)
for(i in 1:10){
try(
x <- getTable(links[i])
)
fin_disclosures <- rbind.fill(as.data.frame(x), fin_disclosures)
#fin_disclosures <- rbind(fin_disclosures, x)
}
link = links[1]
fin_table <- extract_tables(file = link, pages = 4)[[1]]
fin_table
link = links[2]
fin_table <- extract_tables(file = link, pages = 4)[[1]]
getTable <- function(link){
# co <- c(230, 45, 670, 560)
# co1 <- c(250, 50, 690, 596)
# co2 <- c(245, 45, 680, 600)
# co3 <- c(225, 45.43852, 663.54126, 553.78190)
# co4 <- c(220.99850, 40.9525, 647.4701, 547.91723)
# co5 <- c(210, 4.276566, 667.427484, 602.995848)
#
# coords <- list(co, co1, co2, co3, co4, co5)
#
# fin_table <- extract_tables(file = link,
#                              pages = 4,
#                              area = list(coords[[1]]))
#
# fin_table <- fin_table[[1]]
fin_table <- extract_tables(file = link, pages = 4)
print(length(fin_table))
# iter = 1
# while(ncol(fin_table) < 6 & iter < 7){
#   iter = iter + 1
#   fin_table <- extract_tables(file = link,
#                           pages = 4,
#                          area = list(coords[[iter]]))
#   fin_table <- fin_table[[1]]
# }
#
return(fin_table)
}
fin_disclosures <- as.data.frame(NA)
for(i in 1:10){
try(
x <- getTable(links[i])
)
fin_disclosures <- rbind.fill(as.data.frame(x), fin_disclosures)
#fin_disclosures <- rbind(fin_disclosures, x)
}
for(i in 1:10){
try(
x <- getTable(links[i])
)
}
fin_table <- extract_tables(file = links[1], pages = 4)
fin_table
fin_table <- extract_tables(file = links[2], pages = 4)
fin_table
links[2]
fin_table <- extract_tables(file = links[3], pages = 4)
fin_table
fin_table <- extract_tables(file = links[4], pages = 4)
fin_table
links[4]
getTable <- function(link){
# co <- c(230, 45, 670, 560)
# co1 <- c(250, 50, 690, 596)
co2 <- c(230, 45, 690, 600)
# co3 <- c(225, 45.43852, 663.54126, 553.78190)
# co4 <- c(220.99850, 40.9525, 647.4701, 547.91723)
# co5 <- c(210, 4.276566, 667.427484, 602.995848)
#
# coords <- list(co, co1, co2, co3, co4, co5)
#
fin_table <- extract_tables(file = link,
pages = 4,
area = list(co2))
# iter = 1
# while(ncol(fin_table) < 6 & iter < 7){
#   iter = iter + 1
#   fin_table <- extract_tables(file = link,
#                           pages = 4,
#                          area = list(coords[[iter]]))
#   fin_table <- fin_table[[1]]
# }
#
return(fin_table)
}
getTable(links[1])
getTable(links[2])
getTable(links[3])
getTable <- function(link){
# co <- c(230, 45, 670, 560)
# co1 <- c(250, 50, 690, 596)
co2 <- c(230, 45, 690, 600)
# co3 <- c(225, 45.43852, 663.54126, 553.78190)
# co4 <- c(220.99850, 40.9525, 647.4701, 547.91723)
# co5 <- c(210, 4.276566, 667.427484, 602.995848)
#
# coords <- list(co, co1, co2, co3, co4, co5)
#
fin_table <- extract_tables(file = link,
pages = 4,
area = list(co2))
# iter = 1
# while(ncol(fin_table) < 6 & iter < 7){
#   iter = iter + 1
#   fin_table <- extract_tables(file = link,
#                           pages = 4,
#                          area = list(coords[[iter]]))
#   fin_table <- fin_table[[1]]
# }
#
return(fin_table)
}
links[2]
getTable(links[2])
getTable(links[2])
getTable(links[4])
getTable(links[5])
getTable(links[6])
getTable(links[7])
getTable(links[8])
links[8]
getTable(links[9])
getTable(links[10])
links[10]
x <- list()
x
length(x)
empty(x)
exists(x)
fin_table <- extract_tables(file = links[2],
pages = 4,
area = list(co2))
fin_table
length(fin_table)
install.packages("pdftools")
library(pdftools)
download.file(links[1], "tempPDF.pdf")
txt = pdf_text("tempPDF.pdf")
txt
cat(txt[1])
cat(txt[2])
cat(txt[3])
cat(txt[4])
length(txt)
for(i in 1:length(txt)){
if(grep(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page = i
}
}
grep(pattern = "INVESTMENTS and TRUSTS", txt[1])
grepl(pattern = "INVESTMENTS and TRUSTS", txt[1])
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[1])){
page = i
}
}
page
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[1])){
start_page = i
}
}
start_page
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
start_page = i
}
}
start_page
pages <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
pages = append(pages, i)
}
}
pages
download.file(links[2], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
page_nums
download.file(links[10], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
page_nums
page_nums
download.file(links[10], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
getTable <- function(link, page_nums){
coords <- list(c(230, 45, 690, 600))
fin_table <- extract_tables(file = links,
pages = page_nums,
area = coords)
}
download.file(links[10], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
getTable <- function(link, page_nums){
coords <- list(c(230, 45, 690, 600))
fin_table <- extract_tables(file = links,
pages = page_nums,
area = coords)
return(fin_table)
}
page_nums
getTable(links[10], page_nums)
page_nums
coords <- list(c(230, 45, 690, 600))
fin_table <- extract_tables(file = links[10],
pages = page_nums,
area = coords)
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums)
fin_table
links[10]
page_nums
fin_table <- extract_tables(file = links[10],
pages = page_nums,
spreadsheet = T)
fin_table <- extract_tables(file = links[10],
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums,
spreadsheet = T)
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[1],
spreadsheet = T)
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[2],
spreadsheet = T)
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[2])
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums)
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[1])
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[2])
fin_table
fin_table <- extract_tables(file = links[10],
pages = page_nums[3])
fin_table
rbind.na(1:10, 1:3)
library(rbind.na)
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)
return_table <- rbind.fill(return_table, fin_table)
}
return(return_table)
}
getTable(links[10], page_nums)
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)
return_table <- rbind.fill(return_table, as.data.frame(fin_table))
}
return(return_table)
}
getTable(links[10], page_nums)
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)
return_table <- rbind.fill(return_table, as.data.frame(fin_table))
}
return(return_table)
}
xx <- getTable(links[10], page_nums)
xx
xx <- NULL
download.file(links[9], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
page_nums
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[9], pages = i)
return_table <- rbind.fill(return_table, as.data.frame(fin_table))
}
return(return_table)
}
xx <- getTable(links[9], page_nums)
xx
download.file(links[1], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
page_nums
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[1], pages = i)
return_table <- rbind.fill(return_table, as.data.frame(fin_table))
}
return(return_table)
}
xx <- getTable(links[1], page_nums)
xx
library(qpcR)
download.file(links[10], "tempPDF.pdf", quiet = T)
txt = pdf_text("tempPDF.pdf")
page_nums <- c()
for(i in 1:length(txt)){
if(grepl(pattern = "INVESTMENTS and TRUSTS", txt[i])){
page_nums = append(page_nums, i)
}
}
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- data.frame(NA)
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)
return_table <- rbind.na(return_table, fin_table)
}
return(return_table)
}
xx <- getTable(links[10], page_nums)
?rbind.na
library(qpcR)
i
fin_table <- extract_tables(file = links[10], pages = i)
fin_table
page_nums
fin_table <- extract_tables(file = links[10], pages = 5)
fin_table
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- matrix()
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)[[1]]
return_table <- rbind.na(return_table, fin_table)
}
return(return_table)
}
xx <- getTable(links[10], page_nums)
getTable <- function(link, page_nums){
#coords <- list(c(230, 45, 690, 600))
return_table <- matrix()
for(i in page_nums){
fin_table <- extract_tables(file = links[10], pages = i)[[1]]
return_table <- rbind.fill.matrix(return_table, fin_table)
}
return(return_table)
}
xx <- getTable(links[10], page_nums)
xx
View(xx)
links[10]
pages
extract_areas(links[10], pages = 4)
extract_areas(links[10], pages = 10)
